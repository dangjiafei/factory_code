<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>财务管理 - 趣学术</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/finance-management.css">
</head>
<body>
    <!-- 顶部导航栏占位符 -->
    <div id="header-placeholder"></div>

    <!-- 主体布局 -->
    <div class="main-container">
        <!-- 左侧侧边栏占位符 -->
        <div id="sidebar-placeholder"></div>

        <!-- 右侧主要内容区域 -->
        <main class="content-area">
            <!-- 服务类型标签 -->
            <div class="service-tabs">
                <div class="service-tab active">财务管理</div>
                <div class="service-tab">账单管理</div>
                <div class="service-tab">发票管理</div>
                <div class="service-tab">报表分析</div>
                <div class="service-tab">设置</div>
            </div>

            <!-- 财务管理内容 -->
            <div class="tab-content active" id="financeManagement">
                <!-- 功能区和财务内容区合并卡片 -->
                <div class="content-card">
                    <!-- 财务概览 -->
                    <div class="finance-overview">
                        <div class="balance-section">
                            <div class="balance-label">银行账户余额</div>
                            <div class="balance-amount">¥73,461.06</div>
                            <div class="balance-date">2025-12-02 23:59:59</div>
                        </div>
                        <div class="sync-section">
                            <div class="sync-info">
                                <div class="sync-label">实时同步交易笔数</div>
                                <div class="sync-value">6562</div>
                            </div>
                            <button class="sync-btn">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21.5 2v6h-6M2.5 22v-6h6"></path>
                                    <path d="M2 12a10 10 0 0 0 20 0 10 10 0 0 0-20 0z"></path>
                                </svg>
                                同步
                            </button>
                        </div>
                    </div>
                    
                    <!-- 筛选栏 -->
                    <div class="filter-bar">
                        <div class="date-range">
                            <input type="date" value="2023-11-01">
                            <span>至</span>
                            <input type="date" value="2023-11-30">
                        </div>
                        <div class="filter-item">
                            <select>
                                <option>全部产品</option>
                                <option>产品A</option>
                                <option>产品B</option>
                                <option>产品C</option>
                            </select>
                        </div>
                        <div class="filter-item">
                            <select>
                                <option>全部类型</option>
                                <option>收入</option>
                                <option>支出</option>
                            </select>
                        </div>
                        <div class="filter-item">
                            <input type="text" placeholder="搜索关键词">
                        </div>
                        
                        <div class="action-buttons">
                            <button class="search-btn">搜索</button>
                            <button class="external-btn">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                    <path d="M16 3v4"></path>
                                    <path d="M8 21v-4"></path>
                                    <path d="M3 16h4"></path>
                                    <path d="M21 8h-4"></path>
                                </svg>
                                导出数据
                            </button>
                        </div>
                    </div>
                    
                    <!-- 表格容器 -->
                    <div class="table-container">
                        <!-- 财务数据表格 -->
                        <table class="finance-table">
                            <thead>
                                <tr>
                                    <th>数据名称</th>
                                    <th>空付金额</th>
                                    <th>以付金额</th>
                                    <th>育付金额</th>
                                    <th>支付少付</th>
                                    <th>实际收入</th>
                                    <th>实际收入（百付金额）</th>
                                    <th>确认收入</th>
                                    <th>对账单</th>
                                    <th>实际应收</th>
                                    <th>实际应付</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- 数据行 -->
                                <tr>
                                    <td>
                                        <span class="collapse-indicator" onclick="toggleRow(this)">▼</span>
                                        全部账户汇总
                                    </td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>73,461.06</td>
                                    <td>73,461.06</td>
                                    <td>
                                        <button class="download-btn">
                                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                                <polyline points="7 10 12 15 17 10"></polyline>
                                                <line x1="12" y1="15" x2="12" y2="3"></line>
                                            </svg>
                                            下载
                                        </button>
                                    </td>
                                </tr>
                                <tr class="collapse-row">
                                    <td colspan="12">
                                        <div style="padding-left: 24px;">账户详情信息</div>
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td>现金</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>280</td>
                                    <td>280</td>
                                    <td>
                                        <button class="download-btn">
                                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                                <polyline points="7 10 12 15 17 10"></polyline>
                                                <line x1="12" y1="15" x2="12" y2="3"></line>
                                            </svg>
                                            下载
                                        </button>
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td>银行</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>
                                        <button class="download-btn">
                                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                                <polyline points="7 10 12 15 17 10"></polyline>
                                                <line x1="12" y1="15" x2="12" y2="3"></line>
                                            </svg>
                                            下载
                                        </button>
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td>
                                        <span class="collapse-indicator" onclick="toggleRow(this)">▼</span>
                                        银行卡 - 工商银行(对公)
                                    </td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>50</td>
                                    <td>50</td>
                                    <td>
                                        <button class="download-btn">
                                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                                <polyline points="7 10 12 15 17 10"></polyline>
                                                <line x1="12" y1="15" x2="12" y2="3"></line>
                                            </svg>
                                            下载
                                        </button>
                                    </td>
                                </tr>
                                <tr class="collapse-row">
                                    <td colspan="12">
                                        <div style="padding-left: 24px;">银行卡详情信息</div>
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td>银行卡 - 工商银行(对私)</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>
                                        <button class="download-btn">
                                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                                <polyline points="7 10 12 15 17 10"></polyline>
                                                <line x1="12" y1="15" x2="12" y2="3"></line>
                                            </svg>
                                            下载
                                        </button>
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td>支付宝</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>1</td>
                                    <td>
                                        <button class="download-btn">
                                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                                <polyline points="7 10 12 15 17 10"></polyline>
                                                <line x1="12" y1="15" x2="12" y2="3"></line>
                                            </svg>
                                            下载
                                        </button>
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td>微信支付</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>
                                        <button class="download-btn">
                                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                                <polyline points="7 10 12 15 17 10"></polyline>
                                                <line x1="12" y1="15" x2="12" y2="3"></line>
                                            </svg>
                                            下载
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <!-- 分页控件 -->
                        <div class="pagination">
                            <div class="pagination-info">
                                共 10 条记录
                            </div>
                            <div class="pagination-buttons">
                                <button class="page-btn" disabled>
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="15 18 9 12 15 6"></polyline>
                                    </svg>
                                </button>
                                <button class="page-btn active">1</button>
                                <button class="page-btn">2</button>
                                <button class="page-btn">3</button>
                                <button class="page-btn">
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="9 18 15 12 9 6"></polyline>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // 折叠行切换功能
        function toggleRow(indicator) {
            const row = indicator.closest('tr');
            const nextRow = row.nextElementSibling;
            
            if (nextRow && nextRow.classList.contains('collapse-row')) {
                if (nextRow.classList.contains('collapsed')) {
                    nextRow.classList.remove('collapsed');
                    indicator.textContent = '▼';
                } else {
                    nextRow.classList.add('collapsed');
                    indicator.textContent = '▶';
                }
            }
        }
        
        // 初始化折叠行
        document.addEventListener('DOMContentLoaded', function() {
            const collapseRows = document.querySelectorAll('.collapse-row');
            collapseRows.forEach(row => {
                row.classList.add('collapsed');
            });
            
            // 设置默认日期范围
            const today = new Date();
            const lastMonth = new Date(today.getFullYear(), today.getMonth() - 1, today.getDate());
            
            const formatDate = (date) => {
                return date.toISOString().split('T')[0];
            };
            
            const dateInputs = document.querySelectorAll('input[type="date"]');
            if (dateInputs.length >= 2) {
                dateInputs[0].value = formatDate(lastMonth);
                dateInputs[1].value = formatDate(today);
            }
        });
        
        // 服务标签切换功能
        const serviceTabs = document.querySelectorAll('.service-tab');
        const tabContents = document.querySelectorAll('.tab-content');
        
        serviceTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // 移除所有激活状态
                serviceTabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));
                
                // 添加当前激活状态
                tab.classList.add('active');
                
                // 显示对应的内容
                const tabId = tab.textContent.trim();
                if (tabId === '财务管理') {
                    document.getElementById('financeManagement').classList.add('active');
                }
            });
        });
    </script>
    <script src="../js/script.js?v=1"></script>
    <script src="../js/menu.js?v=1"></script>
    <script>
        async function loadComponents() {
            const headerResponse = await fetch('components/header.html');
            const headerHtml = await headerResponse.text();
            document.getElementById('header-placeholder').innerHTML = headerHtml;
            const sidebarResponse = await fetch('components/sidebar.html');
            const sidebarHtml = await sidebarResponse.text();
            document.getElementById('sidebar-placeholder').innerHTML = sidebarHtml;
            initializeMenu();
        }
        window.addEventListener('DOMContentLoaded', loadComponents);
    </script>
</body>
</html>