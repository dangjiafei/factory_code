<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>素材管理 - 趣学术</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/record.css">
    <link rel="stylesheet" href="../css/materials.css">
</head>
<body>
    <!-- 顶部导航栏占位符 -->
    <div id="header-placeholder"></div>

    <!-- 主体布局 -->
    <div class="main-container">
        <!-- 左侧侧边栏占位符 -->
        <div id="sidebar-placeholder"></div>

        <!-- 右侧主要内容区域 -->
        <main class="content-area">
            <!-- 服务类型标签 -->
            <div class="service-tabs">
                <div class="service-tab active">视频</div>
                <div class="service-tab">文献资料</div>
                <div class="service-tab">题目</div>
                <div class="service-tab">问卷调研</div>
            </div>

            <!-- 功能区和课程内容区合并卡片 -->
            <div class="content-card">
                <!-- 筛选栏容器 -->
                <div class="filter-bars">
                    <!-- 视频、文献资料、题目标签页筛选栏 -->
                    <div class="filter-bar default-filter active">
                        <div class="filter-items-container">
                            <div class="filter-item">
                                <input type="text" placeholder="搜索标题或 ID" style="width: 180px;">
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>所有素材</option>
                                    <option>视频</option>
                                    <option>文献资料</option>
                                    <option>题目</option>
                                    <option>问卷调研</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>所有产品</option>
                                    <option>分类1</option>
                                    <option>分类2</option>
                                    <option>分类3</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>所有分类</option>
                                    <option>类型1</option>
                                    <option>类型2</option>
                                    <option>类型3</option>
                                </select>
                            </div>
                        </div>
                        <div class="filter-actions">
                            <button class="upload-btn">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                上传素材
                            </button>
                        </div>
                    </div>
                    
                    <!-- 问卷调研标签页筛选栏 -->
                    <div class="filter-bar survey-filter">
                        <div class="filter-items-container">
                            <div class="filter-item">
                                <input type="text" placeholder="请输入问卷标题/ID" style="width: 180px;">
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>所有素材</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>选择状态</option>
                                    <option>已发布</option>
                                    <option>未发布</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 150px;">
                                <option>请选择产品标签</option>
                            </select>
                            </div>
                        </div>
                        <div class="filter-actions">
                            <a href="create-survey.html" class="upload-btn survey-create">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                新建问卷调研
                            </a>
                        </div>
                    </div>
                </div>

                <!-- 视频标签页内容 -->
                <div class="tab-content active" id="video-content">
                    <!-- 素材列表表格 -->
                    <div class="table-container">
                        <!-- 批量操作栏 -->
                        <div class="batch-actions" id="videoBatchActions" style="display: none;">
                            <button class="batch-btn set-product-tag">设置产品标签</button>
                            <button class="batch-btn add-to-knowledge-base">加入知识库</button>
                            <button class="batch-btn set-category">设置分类</button>
                            <button class="batch-btn delete">删除</button>
                        </div>
                        
                        <table class="record-table">
                            <thead>
                                <tr>
                                    <th class="col-select">
                                        <input type="checkbox" class="select-all" id="videoSelectAll">
                                    </th>
                                    <th>素材标题</th>
                                    <th>产品标签</th>
                                    <th>视频时长（大小）</th>
                                    <th>所属分类</th>
                                    <th>是否加入知识库</th>
                                    <th>创建者</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- 素材列表项 -->
                                <tr>
                                    <td class="col-select">
                                        <input type="checkbox" class="select-row">
                                    </td>
                                    <td>
                                        <div class="material-title">心血管疾病防治新进展</div>
                                        <div class="material-id">ID: MED001</div>
                                    </td>
                                    <td>
                                        <span class="material-tag product-tag">荆防颗粒</span>
                                    </td>
                                    <td>15:30 (120MB)</td>
                                    <td>医学教育</td>
                                    <td>是</td>
                                    <td>管理员</td>
                                    <td>2025-10-14 13:23</td>
                                    <td>
                                        <div class="action-buttons-cell">
                                            <button class="action-btn view">
                                                查看
                                            </button>
                                            <button class="action-btn edit">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                                </svg>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                </svg>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-select">
                                        <input type="checkbox" class="select-row">
                                    </td>
                                    <td>
                                        <div class="material-title">糖尿病患者管理优化</div>
                                        <div class="material-id">ID: MED002</div>
                                    </td>
                                    <td>
                                        <span class="material-tag product-tag">盖笛欣</span>
                                    </td>
                                    <td>12:45 (95MB)</td>
                                    <td>慢病管理</td>
                                    <td>否</td>
                                    <td>管理员</td>
                                    <td>2025-10-13 15:45</td>
                                    <td>
                                        <div class="action-buttons-cell">
                                            <button class="action-btn view">
                                                查看
                                            </button>
                                            <button class="action-btn edit">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                                </svg>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                </svg>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-select">
                                        <input type="checkbox" class="select-row">
                                    </td>
                                    <td>
                                        <div class="material-title">儿科常见疾病诊疗</div>
                                        <div class="material-id">ID: MED003</div>
                                    </td>
                                    <td>
                                        <span class="material-tag product-tag">砂糖产品</span>
                                    </td>
                                    <td>18:20 (140MB)</td>
                                    <td>儿科医学</td>
                                    <td>是</td>
                                    <td>管理员</td>
                                    <td>2025-10-12 09:30</td>
                                    <td>
                                        <div class="action-buttons-cell">
                                            <button class="action-btn view">
                                                查看
                                            </button>
                                            <button class="action-btn edit">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                                </svg>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                </svg>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-select">
                                        <input type="checkbox" class="select-row">
                                    </td>
                                    <td>
                                        <div class="material-title">呼吸系统疾病诊治进展</div>
                                        <div class="material-id">ID: MED004</div>
                                    </td>
                                    <td>
                                        <span class="material-tag product-tag">荆防颗粒</span>
                                    </td>
                                    <td>20:15 (155MB)</td>
                                    <td>呼吸系统</td>
                                    <td>是</td>
                                    <td>管理员</td>
                                    <td>2025-10-11 16:15</td>
                                    <td>
                                        <div class="action-buttons-cell">
                                            <button class="action-btn view">
                                                查看
                                            </button>
                                            <button class="action-btn edit">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                                </svg>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                </svg>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-select">
                                        <input type="checkbox" class="select-row">
                                    </td>
                                    <td>
                                        <div class="material-title">神经系统疾病护理新进展</div>
                                        <div class="material-id">ID: MED005</div>
                                    </td>
                                    <td>
                                        <span class="material-tag product-tag">盖笛欣</span>
                                    </td>
                                    <td>16:40 (125MB)</td>
                                    <td>护理教育</td>
                                    <td>否</td>
                                    <td>管理员</td>
                                    <td>2025-10-10 14:20</td>
                                    <td>
                                        <div class="action-buttons-cell">
                                            <button class="action-btn view">
                                                查看
                                            </button>
                                            <button class="action-btn edit">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                                </svg>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                </svg>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <!-- 分页控件 -->
                        <div class="pagination">
                            <div class="pagination-info">
                                共 10 条记录
                            </div>
                            <div class="pagination-buttons">
                                <button class="page-btn" disabled>
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="15 18 9 12 15 6"></polyline>
                                    </svg>
                                </button>
                                <button class="page-btn active">1</button>
                                <button class="page-btn">2</button>
                                <button class="page-btn">
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="9 18 15 12 9 6"></polyline>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 文献资料标签页内容 -->
                <div class="tab-content" id="document-content">
                    <!-- 素材列表表格 -->
                    <div class="table-container">
                        <!-- 批量操作栏 -->
                        <div class="batch-actions" id="documentBatchActions" style="display: none;">
                            <button class="batch-btn set-product-tag">设置产品标签</button>
                            <button class="batch-btn add-to-knowledge-base">加入知识库</button>
                            <button class="batch-btn set-category">设置分类</button>
                            <button class="batch-btn delete">删除</button>
                        </div>
                        
                        <table class="record-table">
                            <thead>
                                <tr>
                                    <th class="col-select">
                                        <input type="checkbox" class="select-all" id="documentSelectAll">
                                    </th>
                                    <th>文献标题</th>
                                    <th>产品标签</th>
                                    <th>文献类型</th>
                                    <th>所属分类</th>
                                    <th>是否加入知识库</th>
                                    <th>创建者</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- 文献资料列表项 -->
                                <tr>
                                    <td class="col-select">
                                        <input type="checkbox" class="select-row">
                                    </td>
                                    <td>
                                        <div class="material-title">中枢神经系统白血病靶向治疗新进展</div>
                                        <div class="material-id">ID: DOC001</div>
                                    </td>
                                    <td>荆防颗粒</td>
                                    <td>PDF</td>
                                    <td>医学研究</td>
                                    <td>是</td>
                                    <td>快普（上海）公司</td>
                                    <td>2025-08-18</td>
                                    <td>
                                        <div class="action-buttons-cell">
                                            <button class="action-btn view">
                                                查看
                                            </button>
                                            <button class="action-btn edit">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                                </svg>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                </svg>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-select">
                                        <input type="checkbox" class="select-row">
                                    </td>
                                    <td>
                                        <div class="material-title">440301-OSB-GQ5027-g</div>
                                        <div class="material-id">ID: DOC002</div>
                                    </td>
                                    <td>硫酸沙丁胺醇</td>
                                    <td>PDF</td>
                                    <td>药品说明书</td>
                                    <td>是</td>
                                    <td>快普（上海）公司</td>
                                    <td>2025-08-08</td>
                                    <td>
                                        <div class="action-buttons-cell">
                                            <a href="survey-detail.html" class="action-btn view">查看</a>
                                            <button class="action-btn edit">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                                </svg>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                </svg>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-select">
                                        <input type="checkbox" class="select-row">
                                    </td>
                                    <td>
                                        <div class="material-title">福建教育学院</div>
                                        <div class="material-id">ID: DOC003</div>
                                    </td>
                                    <td>盐酸左氧氟沙星</td>
                                    <td>WORD</td>
                                    <td>教育资料</td>
                                    <td>是</td>
                                    <td>快普（上海）公司</td>
                                    <td>2025-07-11</td>
                                    <td>
                                        <div class="action-buttons-cell">
                                            <a href="survey-detail.html" class="action-btn view">查看</a>
                                            <button class="action-btn edit">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                                </svg>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                </svg>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-select">
                                        <input type="checkbox" class="select-row">
                                    </td>
                                    <td>
                                        <div class="material-title">7.阿司匹林-心房颤动-脑卒中和联合用药患者的临床研究</div>
                                        <div class="material-id">ID: DOC004</div>
                                    </td>
                                    <td>荆防颗粒</td>
                                    <td>PDF</td>
                                    <td>医学研究</td>
                                    <td>否</td>
                                    <td>快普（上海）公司</td>
                                    <td>2025-07-17</td>
                                    <td>
                                        <div class="action-buttons-cell">
                                            <a href="survey-detail.html" class="action-btn view">查看</a>
                                            <button class="action-btn edit">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                                </svg>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                </svg>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-select">
                                        <input type="checkbox" class="select-row">
                                    </td>
                                    <td>
                                        <div class="material-title">4.阿司匹林-心房颤动-脑卒中和联合用药患者的临床研究</div>
                                        <div class="material-id">ID: DOC005</div>
                                    </td>
                                    <td>荆防颗粒</td>
                                    <td>PDF</td>
                                    <td>医学研究</td>
                                    <td>否</td>
                                    <td>快普（上海）公司</td>
                                    <td>2025-07-17</td>
                                    <td>
                                        <div class="action-buttons-cell">
                                            <a href="survey-detail.html" class="action-btn view">查看</a>
                                            <button class="action-btn edit">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                                </svg>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                </svg>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <!-- 分页控件 -->
                        <div class="pagination">
                            <div class="pagination-info">
                                共 37 条记录
                            </div>
                            <div class="pagination-buttons">
                                <button class="page-btn" disabled>
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="15 18 9 12 15 6"></polyline>
                                    </svg>
                                </button>
                                <button class="page-btn active">1</button>
                                <button class="page-btn">2</button>
                                <button class="page-btn">3</button>
                                <button class="page-btn">...</button>
                                <button class="page-btn">4</button>
                                <button class="page-btn">
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="9 18 15 12 9 6"></polyline>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 题目标签页内容 -->
                <div class="tab-content" id="question-content">
                    <div class="table-container">
                        <p>题目标签页内容待实现</p>
                    </div>
                </div>

                <!-- 问卷调研标签页内容 -->
                <div class="tab-content" id="survey-content">
                    <!-- 素材列表表格 -->
                    <div class="table-container">
    
                        
                        <table class="record-table">
                            <thead>
                                <tr>
                                    <th>问卷标题</th>
                                    <th>状态</th>
                                    <th>产品标签</th>
                                    <th>答题方式</th>
                                    <th>题目设置</th>
                                    <th>题目数</th>
                                    <th>组织名称</th>
                                    
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="material-title">关于学术推广策略的市场调研</div>
                                        <div class="material-id">ID: 19860508047...</div>
                                    </td>
                                    <td><span class="status ended">已发布</span></td>
                                    <td>超学术 1</td>
                                    <td>顺序答题</td>
                                    <td>不分对错</td>
                                    <td>25题</td>
                                    <td>销售三部</td>

                                    <td>
                                        <div class="action-buttons-cell">
                                            <a href="survey-detail.html" class="action-btn view">查看</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="material-title">新药临床试验效果评估</div>
                                        <div class="material-id">ID: 19852707807...</div>
                                    </td>
                                    <td><span class="status ended">已发布</span></td>
                                    <td>克力力</td>
                                    <td>顺序答题</td>
                                    <td>不分对错</td>
                                    <td>12题</td>
                                    <td>超学术（产品测试）</td>

                                    <td>
                                        <div class="action-buttons-cell">
                                            <a href="survey-detail.html" class="action-btn view">查看</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="material-title">患者用药依从性调研</div>
                                        <div class="material-id">ID: 19852671512...</div>
                                    </td>
                                    <td><span class="status ended">已发布</span></td>
                                    <td>克力力</td>
                                    <td>顺序答题</td>
                                    <td>不分对错</td>
                                    <td>3题</td>
                                    <td>超学术（产品测试）</td>

                                    <td>
                                        <div class="action-buttons-cell">
                                            <a href="survey-detail.html" class="action-btn view">查看</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="material-title">医生处方习惯调研</div>
                                        <div class="material-id">ID: 19849086637...</div>
                                    </td>
                                    <td><span class="status ended">已发布</span></td>
                                    <td>999胃雷灵</td>
                                    <td>顺序答题</td>
                                    <td>分对错</td>
                                    <td>6题</td>
                                    <td>销售三部</td>

                                    <td>
                                        <div class="action-buttons-cell">
                                            <a href="survey-detail.html" class="action-btn view">查看</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="material-title">药品不良反应监测调研</div>
                                        <div class="material-id">ID: 19849082685...</div>
                                    </td>
                                    <td><span class="status cancelled">未发布</span></td>
                                    <td>丁克片</td>
                                    <td>顺序答题</td>
                                    <td>分对错</td>
                                    <td>6题</td>
                                    <td>销售三部</td>

                                    <td>
                                        <div class="action-buttons-cell">
                                            <a href="survey-detail.html" class="action-btn view">查看</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="material-title">临床路径实施效果评估</div>
                                        <div class="material-id">ID: 19790270444...</div>
                                    </td>
                                    <td><span class="status ended">已发布</span></td>
                                    <td>富图达</td>
                                    <td>顺序答题</td>
                                    <td>不分对错</td>
                                    <td>5题</td>
                                    <td>麦夸组</td>

                                    <td>
                                        <div class="action-buttons-cell">
                                            <a href="survey-detail.html" class="action-btn view">查看</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <!-- 分页控件 -->
                        <div class="pagination">
                            <div class="pagination-info">
                                共 156 条记录
                            </div>
                            <div class="pagination-buttons">
                                <button class="page-btn" disabled>
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="15 18 9 12 15 6"></polyline>
                                    </svg>
                                </button>
                                <button class="page-btn active">1</button>
                                <button class="page-btn">2</button>
                                <button class="page-btn">3</button>
                                <button class="page-btn">4</button>
                                <button class="page-btn">5</button>
                                <button class="page-btn">6</button>
                                <button class="page-btn">...</button>
                                <button class="page-btn">16</button>
                                <button class="page-btn">
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="9 18 15 12 9 6"></polyline>
                                    </svg>
                                </button>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- 加载动画 -->
    <div class="loading" id="loading" style="display: none;">
        <div class="loading-spinner"></div>
        <p>AI正在思考...</p>
    </div>

    <!-- 上传素材弹窗 -->
    <div class="modal" id="uploadMaterialModal" style="display: none;">
        <div class="modal-overlay"></div>
        <div class="modal-content" style="width: 500px; max-width: 90vw;">
            <div class="modal-header">
                <h3>上传素材</h3>
                <button class="modal-close" id="closeModalBtn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <form id="uploadMaterialForm">
                    <!-- 上传视频 - 左右结构：左侧16:9上传区，右侧说明区 -->
                    <div class="form-group single-row upload-section">
                        <label class="form-label">上传视频</label>
                        <div class="upload-container">
                            <!-- 左侧16:9上传区域 -->
                            <div class="upload-left">
                                <div class="upload-area" id="videoUploadArea">
                                    <input type="file" id="videoUpload" accept="video/*" style="display: none;">
                                    <div class="upload-placeholder" id="videoUploadPlaceholder">
                                        <div class="upload-icon">
                                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                                <polyline points="7 10 12 15 17 10"></polyline>
                                                <line x1="12" y1="15" x2="12" y2="3"></line>
                                            </svg>
                                        </div>
                                        <div class="upload-text">
                                            <p>点击或拖拽文件到此处上传</p>
                                        </div>
                                    </div>
                                    <div class="file-preview" id="videoPreview" style="display: none;">
                                        <div class="file-info">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect>
                                                <line x1="7" y1="2" x2="7" y2="22"></line>
                                                <line x1="17" y1="2" x2="17" y2="22"></line>
                                                <line x1="2" y1="12" x2="22" y2="12"></line>
                                                <line x1="2" y1="7" x2="7" y2="7"></line>
                                                <line x1="2" y1="17" x2="7" y2="17"></line>
                                                <line x1="17" y1="17" x2="22" y2="17"></line>
                                                <line x1="17" y1="7" x2="22" y2="7"></line>
                                            </svg>
                                            <span id="videoFileName"></span>
                                        </div>
                                        <button type="button" class="remove-file-btn" id="removeVideoBtn">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                                <line x1="6" y1="6" x2="18" y2="18"></line>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 右侧说明区 -->
                            <div class="upload-right">
                                <div class="upload-notes">
                                    <h4>视频上传须知</h4>
                                    <ul>
                                        <li>建议视频时长不少于5分钟</li>
                                        <li>如视频内存较大，建议压缩后上传</li>
                                        <li>支持MP4等主流视频格式</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 视频标题 - 单独一行 -->
                    <div class="form-group single-row">
                        <label class="form-label">视频标题</label>
                        <input type="text" id="videoTitle" class="form-input" placeholder="请输入视频标题">
                    </div>

                    <!-- 上传视频封面 - 左右结构：左侧16:9上传区，右侧说明区 -->
                    <div class="form-group single-row upload-section">
                        <label class="form-label">上传视频封面</label>
                        <div class="upload-container">
                            <!-- 左侧16:9上传区域 -->
                            <div class="upload-left">
                                <div class="upload-area" id="coverUploadArea">
                                    <input type="file" id="coverUpload" accept="image/*" style="display: none;">
                                    <div class="upload-placeholder" id="coverUploadPlaceholder">
                                        <div class="upload-icon">
                                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                                <polyline points="21 15 16 10 5 21"></polyline>
                                            </svg>
                                        </div>
                                        <div class="upload-text">
                                            <p>点击或拖拽文件到此处上传</p>
                                        </div>
                                    </div>
                                    <div class="file-preview" id="coverPreview" style="display: none;">
                                        <div class="file-info">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                                <polyline points="21 15 16 10 5 21"></polyline>
                                            </svg>
                                            <span id="coverFileName"></span>
                                        </div>
                                        <button type="button" class="remove-file-btn" id="removeCoverBtn">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                                <line x1="6" y1="6" x2="18" y2="18"></line>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 右侧说明区 -->
                            <div class="upload-right">
                                <div class="upload-notes">
                                    <h4>封面上传须知</h4>
                                    <ul>
                                        <li>建议图片尺寸16:9</li>
                                        <li>支持JPG、PNG等格式</li>
                                        <li>建议文件大小不超过10MB</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 选择产品标签和选择分类 - 一行两个 -->
                    <div class="form-grid">
                        <!-- 选择产品标签 -->
                        <div class="form-group">
                            <label class="form-label">选择产品标签</label>
                            <div class="product-tag-selector">
                                <button type="button" class="select-tag-btn" id="selectProductTagBtn">
                                    <span id="selectedTagText">点击选择产品标签</span>
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="6 9 12 15 18 9"></polyline>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- 选择分类 -->
                        <div class="form-group">
                            <label class="form-label">选择分类</label>
                            <select id="categorySelect" class="form-select">
                                <option value="">请选择分类</option>
                                <option value="医学教育">医学教育</option>
                                <option value="慢病管理">慢病管理</option>
                                <option value="儿科医学">儿科医学</option>
                                <option value="呼吸系统">呼吸系统</option>
                                <option value="护理教育">护理教育</option>
                            </select>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="cancel-btn" id="cancelUploadBtn">取消</button>
                <button type="button" class="confirm-btn" id="confirmUploadBtn">确认上传</button>
            </div>
        </div>
    </div>

    <!-- 产品标签选择弹窗 -->
    <div class="modal" id="productTagModal" style="display: none;">
        <div class="modal-overlay"></div>
        <div class="modal-content" style="width: 400px; max-width: 90vw;">
            <div class="modal-header">
                <h3>选择产品标签</h3>
                <button class="modal-close" id="closeTagModalBtn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="tag-list">
                    <div class="tag-item" data-tag="荆防颗粒">荆防颗粒</div>
                    <div class="tag-item" data-tag="盖笛欣">盖笛欣</div>
                    <div class="tag-item" data-tag="砂糖产品">砂糖产品</div>
                    <div class="tag-item" data-tag="硫酸沙丁胺醇">硫酸沙丁胺醇</div>
                    <div class="tag-item" data-tag="盐酸左氧氟沙星">盐酸左氧氟沙星</div>
                    <div class="tag-item" data-tag="超学术 1">超学术 1</div>
                    <div class="tag-item" data-tag="克力力">克力力</div>
                    <div class="tag-item" data-tag="999胃雷灵">999胃雷灵</div>
                    <div class="tag-item" data-tag="丁克片">丁克片</div>
                    <div class="tag-item" data-tag="富图达">富图达</div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="cancel-btn" id="cancelTagBtn">取消</button>
                <button type="button" class="confirm-btn" id="confirmTagBtn">确认选择</button>
            </div>
        </div>
    </div>

    <script src="../js/script.js?v=1"></script>
    <script src="../js/menu.js?v=1"></script>
    <script>
        // 动态加载公共组件
        async function loadComponents() {
            try {
                // 加载顶部导航
                const headerResponse = await fetch('components/header.html');
                const headerHtml = await headerResponse.text();
                document.getElementById('header-placeholder').innerHTML = headerHtml;
                
                // 加载左侧侧边栏
                const sidebarResponse = await fetch('components/sidebar.html');
                const sidebarHtml = await sidebarResponse.text();
                document.getElementById('sidebar-placeholder').innerHTML = sidebarHtml;
                
                // 初始化菜单
                initializeMenu();
            } catch (error) {
                console.error('加载组件失败:', error);
            }
        }
        
        // 页面加载时执行
        window.addEventListener('DOMContentLoaded', loadComponents);
        
        // 服务标签切换
        const serviceTabs = document.querySelectorAll('.service-tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const filterBars = document.querySelectorAll('.filter-bar');
        
        serviceTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                serviceTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // 切换标签内容
                const tabIndex = Array.from(serviceTabs).indexOf(tab);
                tabContents.forEach(content => content.classList.remove('active'));
                tabContents[tabIndex].classList.add('active');
                
                // 切换筛选栏
                filterBars.forEach(bar => bar.classList.remove('active'));
                if (tab.textContent === '问卷调研') {
                    document.querySelector('.survey-filter').classList.add('active');
                } else {
                    document.querySelector('.default-filter').classList.add('active');
                }
            });
        });
        
        // 上传素材弹窗功能
        document.addEventListener('DOMContentLoaded', function() {
            // 获取DOM元素
            const uploadBtn = document.querySelector('.upload-btn');
            const uploadModal = document.getElementById('uploadMaterialModal');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const cancelUploadBtn = document.getElementById('cancelUploadBtn');
            const confirmUploadBtn = document.getElementById('confirmUploadBtn');
            
            const videoUpload = document.getElementById('videoUpload');
            const videoUploadPlaceholder = document.getElementById('videoUploadPlaceholder');
            const videoPreview = document.getElementById('videoPreview');
            const videoFileName = document.getElementById('videoFileName');
            const removeVideoBtn = document.getElementById('removeVideoBtn');
            const videoTitle = document.getElementById('videoTitle');
            
            const coverUpload = document.getElementById('coverUpload');
            const coverUploadPlaceholder = document.getElementById('coverUploadPlaceholder');
            const coverPreview = document.getElementById('coverPreview');
            const coverFileName = document.getElementById('coverFileName');
            const removeCoverBtn = document.getElementById('removeCoverBtn');
            
            const selectProductTagBtn = document.getElementById('selectProductTagBtn');
            const productTagModal = document.getElementById('productTagModal');
            const closeTagModalBtn = document.getElementById('closeTagModalBtn');
            const cancelTagBtn = document.getElementById('cancelTagBtn');
            const confirmTagBtn = document.getElementById('confirmTagBtn');
            const selectedTagText = document.getElementById('selectedTagText');
            const tagItems = document.querySelectorAll('.tag-item');
            
            let selectedTag = null;
            
            // 打开上传弹窗
            uploadBtn.addEventListener('click', function() {
                uploadModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            });
            
            // 关闭上传弹窗
            function closeUploadModal() {
                uploadModal.style.display = 'none';
                document.body.style.overflow = 'auto';
                // 重置表单
                document.getElementById('uploadMaterialForm').reset();
                videoUpload.value = '';
                coverUpload.value = '';
                videoPreview.style.display = 'none';
                videoUploadPlaceholder.style.display = 'flex';
                coverPreview.style.display = 'none';
                coverUploadPlaceholder.style.display = 'flex';
                selectedTag = null;
                selectedTagText.textContent = '点击选择产品标签';
            }
            
            closeModalBtn.addEventListener('click', closeUploadModal);
            cancelUploadBtn.addEventListener('click', closeUploadModal);
            
            // 点击遮罩层关闭弹窗
            uploadModal.addEventListener('click', function(e) {
                if (e.target === uploadModal) {
                    closeUploadModal();
                }
            });
            
            // 视频上传功能
            const videoUploadArea = document.getElementById('videoUploadArea');
            const coverUploadArea = document.getElementById('coverUploadArea');
            
            // 点击上传
            videoUploadPlaceholder.addEventListener('click', function() {
                videoUpload.click();
            });
            
            coverUploadPlaceholder.addEventListener('click', function() {
                coverUpload.click();
            });
            
            // 文件选择处理
            function handleFileSelect(input, preview, placeholder, fileNameElement, titleElement = null) {
                return function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        processFile(file, preview, placeholder, fileNameElement, titleElement);
                    }
                };
            }
            
            // 拖放上传处理
            function handleDragOver(e) {
                e.preventDefault();
                this.style.borderColor = '#667eea';
                this.style.backgroundColor = '#f0f4ff';
            }
            
            function handleDragLeave(e) {
                e.preventDefault();
                this.style.borderColor = '#cbd5e0';
                this.style.backgroundColor = '#fafbfe';
            }
            
            function handleDrop(input, preview, placeholder, fileNameElement, titleElement = null) {
                return function(e) {
                    e.preventDefault();
                    this.style.borderColor = '#cbd5e0';
                    this.style.backgroundColor = '#fafbfe';
                    
                    const files = e.dataTransfer.files;
                    if (files.length > 0) {
                        const file = files[0];
                        // 验证文件类型
                        if (input.accept.includes(file.type.split('/')[0]) || 
                            input.accept.includes(file.type) || 
                            input.accept === '*/*') {
                            // 创建临时FileList对象
                            const dataTransfer = new DataTransfer();
                            dataTransfer.items.add(file);
                            input.files = dataTransfer.files;
                            processFile(file, preview, placeholder, fileNameElement, titleElement);
                        } else {
                            alert('请上传正确类型的文件');
                        }
                    }
                };
            }
            
            // 处理文件上传
            function processFile(file, preview, placeholder, fileNameElement, titleElement = null) {
                fileNameElement.textContent = file.name;
                preview.style.display = 'flex';
                placeholder.style.display = 'none';
                
                // 自动填充视频标题（去掉文件扩展名）
                if (titleElement) {
                    const title = file.name.replace(/\.[^/.]+$/, '');
                    titleElement.value = title;
                }
            }
            
            // 绑定事件
            videoUpload.addEventListener('change', handleFileSelect(videoUpload, videoPreview, videoUploadPlaceholder, videoFileName, videoTitle));
            coverUpload.addEventListener('change', handleFileSelect(coverUpload, coverPreview, coverUploadPlaceholder, coverFileName));
            
            // 视频拖放事件
            videoUploadArea.addEventListener('dragover', handleDragOver);
            videoUploadArea.addEventListener('dragleave', handleDragLeave);
            videoUploadArea.addEventListener('drop', handleDrop(videoUpload, videoPreview, videoUploadPlaceholder, videoFileName, videoTitle));
            
            // 封面拖放事件
            coverUploadArea.addEventListener('dragover', handleDragOver);
            coverUploadArea.addEventListener('dragleave', handleDragLeave);
            coverUploadArea.addEventListener('drop', handleDrop(coverUpload, coverPreview, coverUploadPlaceholder, coverFileName));
            
            // 移除文件
            removeVideoBtn.addEventListener('click', function() {
                videoUpload.value = '';
                videoPreview.style.display = 'none';
                videoUploadPlaceholder.style.display = 'flex';
                videoTitle.value = '';
            });
            
            removeCoverBtn.addEventListener('click', function() {
                coverUpload.value = '';
                coverPreview.style.display = 'none';
                coverUploadPlaceholder.style.display = 'flex';
            });
            
            // 产品标签选择功能
            selectProductTagBtn.addEventListener('click', function() {
                productTagModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            });
            
            // 关闭产品标签弹窗
            function closeTagModal() {
                productTagModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
            
            closeTagModalBtn.addEventListener('click', closeTagModal);
            cancelTagBtn.addEventListener('click', closeTagModal);
            
            // 点击遮罩层关闭标签弹窗
            productTagModal.addEventListener('click', function(e) {
                if (e.target === productTagModal) {
                    closeTagModal();
                }
            });
            
            // 选择产品标签
            tagItems.forEach(tagItem => {
                tagItem.addEventListener('click', function() {
                    // 移除其他标签的选中状态
                    tagItems.forEach(item => item.classList.remove('selected'));
                    // 添加当前标签的选中状态
                    this.classList.add('selected');
                    selectedTag = this.dataset.tag;
                });
            });
            
            // 确认选择产品标签
            confirmTagBtn.addEventListener('click', function() {
                if (selectedTag) {
                    selectedTagText.textContent = selectedTag;
                    closeTagModal();
                }
            });
            
            // 确认上传
            confirmUploadBtn.addEventListener('click', function() {
                // 这里可以添加表单验证和上传逻辑
                alert('上传功能待实现');
                closeUploadModal();
            });
            
            // 批量操作功能
            // 为每个标签页单独实现批量操作功能
            const tabs = ['video', 'document', 'survey'];
            
            tabs.forEach(tabName => {
                // 获取当前标签页的全选复选框、行复选框和批量操作栏
                const selectAllCheckbox = document.getElementById(`${tabName}SelectAll`);
                const selectRowCheckboxes = document.querySelectorAll(`#${tabName}-content .select-row`);
                const batchActions = document.getElementById(`${tabName}BatchActions`);
                
                if (!selectAllCheckbox) return;
                
                // 全选/取消全选功能
                selectAllCheckbox.addEventListener('change', function() {
                    selectRowCheckboxes.forEach(checkbox => {
                        checkbox.checked = this.checked;
                    });
                    updateBatchActionsVisibility();
                });
                
                // 行复选框点击事件
                selectRowCheckboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', function() {
                        // 更新全选复选框状态
                        const allChecked = Array.from(selectRowCheckboxes).every(cb => cb.checked);
                        selectAllCheckbox.checked = allChecked;
                        updateBatchActionsVisibility();
                    });
                });
                
                // 更新批量操作栏可见性
                function updateBatchActionsVisibility() {
                    const anyChecked = Array.from(selectRowCheckboxes).some(cb => cb.checked);
                    batchActions.style.display = anyChecked ? 'flex' : 'none';
                }
            });
        });
    </script>
</body>
</html>