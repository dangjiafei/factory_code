<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>活动管理 - 趣学术</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/record.css">
    <link rel="stylesheet" href="../css/materials.css">
    <link rel="stylesheet" href="../css/table.css">
    <link rel="stylesheet" href="../css/activities.css">
    
    <!-- 时间范围选择器样式 -->
    <style>
        /* 时间范围选择器样式 */
        .time-range-selector {
            position: relative;
            display: inline-block;
            width: 100%;
        }
        
        .time-range-input {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            background-color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85rem;
            height: 36px;
        }
        
        .time-range-input:hover {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .range-separator {
            margin: 0 10px;
            color: #9ca3af;
        }
        
        .calendar-icon {
            color: #374151;
            margin-left: 10px;
            display: flex;
            align-items: center;
        }
        
        /* 时间范围选择器弹窗 */
        .time-range-picker {
            position: absolute;
            top: 100%;
            left: 0;
            margin-top: 8px;
            background-color: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            z-index: 10000;
            width: 800px;
            max-width: 95vw;
        }
        
        .picker-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            border-bottom: 1px solid #f0f2f5;
        }
        
        .picker-title {
            font-size: 16px;
            font-weight: 600;
            color: #374151;
        }
        
        .picker-close {
            background: none;
            border: none;
            font-size: 20px;
            color: #9ca3af;
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }
        
        .picker-close:hover {
            color: #6b7280;
            background-color: #f3f4f6;
        }
        
        /* 日历容器 */
        .calendar-container {
            display: flex;
            padding: 20px;
            gap: 20px;
        }
        
        .calendar {
            flex: 1;
            min-width: 300px;
        }
        
        /* 日历头部 */
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }
        
        .calendar-nav {
            background: none;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 4px 8px;
            font-size: 12px;
            cursor: pointer;
            color: #6b7280;
            transition: all 0.2s ease;
        }
        
        .calendar-nav:hover {
            border-color: #667eea;
            color: #667eea;
            background-color: #f0f4ff;
        }
        
        .calendar-title {
            font-size: 14px;
            font-weight: 600;
            color: #374151;
        }
        
        /* 日历主体 */
        .calendar-body {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }
        
        .calendar-day {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 32px;
            font-size: 14px;
            color: #374151;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.2s ease;
        }
        
        .calendar-day:hover {
            background-color: #f0f4ff;
            color: #667eea;
        }
        
        .calendar-day.selected {
            background-color: #667eea;
            color: white;
        }
        
        .calendar-day.today {
            font-weight: bold;
            color: #667eea;
        }
        
        .calendar-day.other-month {
            color: #d1d5db;
        }
        
        /* 筛选器底部按钮 */
        .picker-footer {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            padding: 16px 20px;
            border-top: 1px solid #f0f2f5;
            gap: 10px;
        }
        
        /* 为record-tab添加relative定位，使伪元素能正确显示 */
        .record-tab {
            position: relative;
            overflow: visible;
            z-index: 1;
        }
        
        /* 可折叠筛选框样式 */
        .collapsible-filter {
            display: none;
        }
        
        /* 更多筛选按钮样式 */
        .more-filter-btn {
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            background-color: white;
            color: #374151;
            cursor: pointer;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .more-filter-btn:hover {
            border-color: #667eea;
            color: #667eea;
            background-color: #f0f4ff;
        }
        
        .more-filter-btn.expanded svg {
            transform: rotate(180deg);
        }
        
        /* 病例活动子标签征集标识样式 */
        .record-tab.has-badge::before {
            content: '征集';
            position: absolute;
            top: -5px;
            right: -10px;
            background-color: #f59e0b;
            color: white;
            font-size: 0.7rem;
            padding: 1px 6px;
            border-radius: 10px;
            font-weight: 500;
            white-space: nowrap;
            z-index: 10;
        }
        
        /* 病例作品子标签投稿标识样式 */
        .record-tab.has-badge.submission::before {
            content: '投稿';
            background-color: #3b82f6;
        }
        
        /* 确保激活状态的阴影不会覆盖其他标签的标识 */
        .record-tab.active {
            z-index: 5;
        }
        
        .btn-cancel,
        .btn-confirm {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-cancel {
            background-color: #f3f4f6;
            color: #6b7280;
        }
        
        .btn-cancel:hover {
            background-color: #e5e7eb;
        }
        
        .btn-confirm {
            background-color: #667eea;
            color: white;
        }
        
        .btn-confirm:hover {
            background-color: #5a6fd8;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
    </style>
</head>
<body>
    <!-- 顶部导航栏占位符 -->
    <div id="header-placeholder"></div>

    <!-- 主体布局 -->
    <div class="main-container">
        <!-- 左侧侧边栏占位符 -->
        <div id="sidebar-placeholder"></div>

        <!-- 右侧主要内容区域 -->
        <main class="content-area">
            <!-- 服务类型标签 -->
            <div class="service-tabs">
                <div class="service-tab active">线上科室会</div>
                <div class="service-tab">在线病例互动</div>
                <div class="service-tab">定向直播</div>
                <div class="service-tab">多人会议</div>
                <div class="service-tab">学术拜访</div>
                <div class="service-tab has-badge">医学播客</div>
                <div class="service-tab has-badge">专家评审</div>
                <!-- 占位元素用于右对齐 -->
                <div style="flex-grow: 1;"></div>
                <!-- 公共资源库按钮 -->
                <button class="public-resource-btn" onclick="window.location.href='case-resource-library.html'" style="margin-left: 20px; margin-top: 8px; padding: 8px 20px; background-color: white; color: #4a4a4a; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 0.85rem; font-weight: 500; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; height: 36px;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                        <line x1="8" y1="21" x2="16" y2="21"></line>
                        <line x1="12" y1="17" x2="12" y2="21"></line>
                    </svg>
                    公共资源库
                </button>
            </div>

            <div class="content-card">
                <!-- 病例征集子标签 -->
                <div class="record-tabs" id="case-collection-tabs" style="display: none; gap: 12px; margin-bottom: 16px; background-color: #f8fafc; padding: 6px; border-radius: 12px; flex-direction: row;">
                    <div class="record-tab active">在线病例互动</div>
                    <div class="record-tab has-badge">病例互动征集活动</div>
                    <div class="record-tab has-badge submission">医生投稿作品库</div>
                </div>
                
                <!-- 筛选栏容器 -->
                <div class="filter-bars">
                    <!-- 线上科室会筛选栏 -->
                    <div class="filter-bar online-meeting-filter active">
                        <div class="filter-items-container">
                            <div class="filter-item">
                                <input type="text" placeholder="搜索活动名称" style="width: 180px;">
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>产品标签</option>
                                    <option>标签1</option>
                                    <option>标签2</option>
                                    <option>标签3</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>我的活动</option>
                                    <option>其他组织分享</option>
                                    <option>下级组织活动</option>
                                </select>
                            </div>
                    
                            <div class="filter-item">
                                <div class="time-range-selector">
                                    <div class="time-range-input" id="onlineMeetingTimeRangeInput">
                                        <span id="onlineMeetingStartTimeText">开始时间</span>
                                        <span class="range-separator">—</span>
                                        <span id="onlineMeetingEndTimeText">结束时间</span>
                                        <div class="calendar-icon">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                                <line x1="3" y1="10" x2="21" y2="10"></line>
                                            </svg>
                                        </div>
                                    </div>
                                    <input type="hidden" id="online-meeting-start-time">
                                    <input type="hidden" id="online-meeting-end-time">
                                    <!-- 时间范围选择器弹窗 -->
                                    <div class="time-range-picker" id="onlineMeetingTimeRangePicker" style="display: none;">
                                        <div class="picker-header">
                                            <div class="picker-title">选择活动时间范围</div>
                                            <button class="picker-close" id="onlineMeetingPickerClose">×</button>
                                        </div>
                                        <div class="calendar-container">
                                            <div class="calendar">
                                                <div class="calendar-header">
                                                    <button class="calendar-nav" id="onlineMeetingPrevMonth">《</button>
                                                    <div class="calendar-title" id="onlineMeetingStartCalendarTitle">2025年12月</div>
                                                    <button class="calendar-nav" id="onlineMeetingNextMonth">》</button>
                                                </div>
                                                <div class="calendar-body" id="onlineMeetingStartCalendarBody">
                                                    <!-- 日历内容将通过JavaScript生成 -->
                                                </div>
                                            </div>
                                            <div class="calendar">
                                                <div class="calendar-header">
                                                    <button class="calendar-nav" id="onlineMeetingPrevMonth2">《</button>
                                                    <div class="calendar-title" id="onlineMeetingEndCalendarTitle">2026年1月</div>
                                                    <button class="calendar-nav" id="onlineMeetingNextMonth2">》</button>
                                                </div>
                                                <div class="calendar-body" id="onlineMeetingEndCalendarBody">
                                                    <!-- 日历内容将通过JavaScript生成 -->
                                                </div>
                                            </div>
                                        </div>
                                        <div class="picker-footer">
                                            <button class="btn-cancel" id="onlineMeetingCancelPicker">取消</button>
                                            <button class="btn-confirm" id="onlineMeetingConfirmPicker">确定</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="filter-actions">
                            <button class="action-btn edit">批量操作</button>
                            <button class="upload-btn">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                新建活动
                            </button>
                        </div>
                    </div>
                    
                    <!-- 在线病例互动筛选栏 -->
                    <!-- 病例活动筛选栏 -->
                    <div class="filter-bar case-collection-filter case-activity-filter" style="display: none;">
                        <div class="filter-items-container">
                            <div class="filter-item">
                                <input type="text" placeholder="搜索活动名称" style="width: 180px;">
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>产品标签</option>
                                    <option>标签1</option>
                                    <option>标签2</option>
                                    <option>标签3</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>活动状态</option>
                                    <option>进行中</option>
                                    <option>已结束</option>
                                    <option>未开始</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>我的活动</option>
                                    <option>下级组织活动</option>
                                </select>
                            </div>
                        </div>
                        <div class="filter-actions">
                            <button class="upload-btn" onclick="window.location.href='create-case-collection.html'">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                新建内容征集活动
                            </button>
                        </div>
                    </div>
                    
                    <!-- 病例作品筛选栏 -->
                    <div class="filter-bar case-collection-filter case-work-filter" style="display: none;">
                        <div class="filter-items-container">
                            <div class="filter-item">
                                <input type="text" placeholder="搜索病例作品" style="width: 180px;">
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>作品状态</option>
                                    <option>未报名</option>
                                    <option>待提交作品</option>
                                    <option>作品审核中</option>
                                    <option>审核通过待最终确认</option>
                                    <option>作品已录用</option>
                                    <option>作品内容不符合要求</option>
                                    <option>审核未通过</option>
                                    <option>审核超时</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>我的活动</option>
                                    <option>其他组织分享</option>
                                    <option>下级组织活动</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>产品标签</option>
                                    <option>标签1</option>
                                    <option>标签2</option>
                                    <option>标签3</option>
                                </select>
                            </div>
                        </div>
                        <div class="filter-actions">
                            <button class="action-btn edit">批量操作</button>
                            <button class="action-btn edit">导出 Excel</button>
                        </div>
                    </div>
                    
                    <!-- 病例互动筛选栏 -->
                    <div class="filter-bar case-collection-filter case-interaction-filter" style="display: none;">
                        <div class="filter-items-container">
                            <div class="filter-item">
                                <input type="text" placeholder="搜索活动名称或ID" style="width: 180px;">
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>产品标签</option>
                                    <option>标签1</option>
                                    <option>标签2</option>
                                    <option>标签3</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 160px;">
                                    <option selected>我的活动</option>
                                    <option>其他组织分享的活动</option>
                                    <option>下级组织的活动</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <div class="time-range-selector">
                                    <div class="time-range-input" id="caseInteractionTimeRangeInput">
                                        <span id="caseInteractionStartTimeText">开始时间</span>
                                        <span class="range-separator">—</span>
                                        <span id="caseInteractionEndTimeText">结束时间</span>
                                        <div class="calendar-icon">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                                <line x1="3" y1="10" x2="21" y2="10"></line>
                                            </svg>
                                        </div>
                                    </div>
                                    <input type="hidden" id="case-interaction-start-time">
                                    <input type="hidden" id="case-interaction-end-time">
                                    <!-- 时间范围选择器弹窗 -->
                                    <div class="time-range-picker" id="caseInteractionTimeRangePicker" style="display: none;">
                                        <div class="picker-header">
                                            <div class="picker-title">选择活动时间范围</div>
                                            <button class="picker-close" id="caseInteractionPickerClose">×</button>
                                        </div>
                                        <div class="calendar-container">
                                            <div class="calendar">
                                                <div class="calendar-header">
                                                    <button class="calendar-nav" id="caseInteractionPrevMonth">《</button>
                                                    <div class="calendar-title" id="caseInteractionStartCalendarTitle">2025年12月</div>
                                                    <button class="calendar-nav" id="caseInteractionNextMonth">》</button>
                                                </div>
                                                <div class="calendar-body" id="caseInteractionStartCalendarBody">
                                                    <!-- 日历内容将通过JavaScript生成 -->
                                                </div>
                                            </div>
                                            <div class="calendar">
                                                <div class="calendar-header">
                                                    <button class="calendar-nav" id="caseInteractionPrevMonth2">《</button>
                                                    <div class="calendar-title" id="caseInteractionEndCalendarTitle">2026年1月</div>
                                                    <button class="calendar-nav" id="caseInteractionNextMonth2">》</button>
                                                </div>
                                                <div class="calendar-body" id="caseInteractionEndCalendarBody">
                                                    <!-- 日历内容将通过JavaScript生成 -->
                                                </div>
                                            </div>
                                        </div>
                                        <div class="picker-footer">
                                            <button class="btn-cancel" id="caseInteractionCancelPicker">取消</button>
                                            <button class="btn-confirm" id="caseInteractionConfirmPicker">确定</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="filter-item collapsible-filter">
                                <select style="width: 160px;">
                                    <option selected>推广科室</option>
                                    <option>肿瘤科</option>
                                    <option>内科</option>
                                </select>
                            </div>
                            <div class="filter-item collapsible-filter">
                                <select style="width: 160px;">
                                    <option selected>自定义标签</option>
                                    <option>标签1</option>
                                    <option>标签2</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <button class="more-filter-btn" id="moreFilterBtn">
                                    <span>更多筛选</span>
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-left: 4px; transform: rotate(0deg); transition: transform 0.3s ease;">
                                        <polyline points="6 9 12 15 18 9"></polyline>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="filter-actions">
                            <button class="action-btn edit" id="batchActionBtn">批量操作</button>
                            <button class="upload-btn" onclick="window.location.href='create-case.html?activityId=CASE001'">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                创建在线病例互动
                            </button>
                        </div>
                    </div>
                    
                    <!-- 定向直播筛选栏 -->
                    <div class="filter-bar targeted-live-filter" style="display: none;">
                        <div class="filter-items-container">
                            <div class="filter-item">
                                <input type="text" placeholder="搜索定向直播" style="width: 180px;">
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>产品标签</option>
                                    <option>标签1</option>
                                    <option>标签2</option>
                                    <option>标签3</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>活动状态</option>
                                    <option>进行中</option>
                                    <option>已结束</option>
                                    <option>未开始</option>
                                </select>
                            </div>
                        </div>
                        <div class="filter-actions">
                            <button class="action-btn edit">批量操作</button>
                            <button class="upload-btn">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                新建定向直播
                            </button>
                        </div>
                    </div>
                    
                    <!-- 多人会议筛选栏 -->
                    <div class="filter-bar multi-meeting-filter" style="display: none;">
                        <div class="filter-items-container">
                            <div class="filter-item">
                                <input type="text" placeholder="搜索多人会议" style="width: 180px;">
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>产品标签</option>
                                    <option>标签1</option>
                                    <option>标签2</option>
                                    <option>标签3</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>活动状态</option>
                                    <option>进行中</option>
                                    <option>已结束</option>
                                    <option>未开始</option>
                                </select>
                            </div>
                        </div>
                        <div class="filter-actions">
                            <button class="action-btn edit">批量操作</button>
                            <button class="upload-btn">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                新建多人会议
                            </button>
                        </div>
                    </div>
                    
                    <!-- 学术拜访筛选栏 -->
                    <div class="filter-bar academic-visit-filter" style="display: none;">
                        <div class="filter-items-container">
                            <div class="filter-item">
                                <input type="text" placeholder="搜索学术拜访" style="width: 180px;">
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>产品标签</option>
                                    <option>标签1</option>
                                    <option>标签2</option>
                                    <option>标签3</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>活动状态</option>
                                    <option>进行中</option>
                                    <option>已结束</option>
                                    <option>未开始</option>
                                </select>
                            </div>
                        </div>
                        <div class="filter-actions">
                            <button class="action-btn edit">批量操作</button>
                            <button class="upload-btn">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                新建学术拜访
                            </button>
                        </div>
                    </div>
                    
                    <!-- 医学播客筛选栏 -->
                    <div class="filter-bar medical-podcast-filter" style="display: none;">
                        <div class="filter-items-container">
                            <div class="filter-item">
                                <input type="text" placeholder="搜索医学播客" style="width: 180px;">
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>产品标签</option>
                                    <option>标签1</option>
                                    <option>标签2</option>
                                    <option>标签3</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>活动状态</option>
                                    <option>进行中</option>
                                    <option>已结束</option>
                                    <option>未开始</option>
                                </select>
                            </div>
                        </div>
                        <div class="filter-actions">
                            <button class="action-btn edit">批量操作</button>
                            <button class="upload-btn">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                新建医学播客
                            </button>
                        </div>
                    </div>
                    
                    <!-- 专家评审筛选栏 -->
                    <div class="filter-bar expert-review-filter" style="display: none;">
                        <div class="filter-items-container">
                            <div class="filter-item">
                                <input type="text" placeholder="搜索专家评审" style="width: 180px;">
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>产品标签</option>
                                    <option>标签1</option>
                                    <option>标签2</option>
                                    <option>标签3</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <select style="width: 120px;">
                                    <option>评审状态</option>
                                    <option>待评审</option>
                                    <option>评审中</option>
                                    <option>已完成</option>
                                </select>
                            </div>
                        </div>
                        <div class="filter-actions">
                            <button class="action-btn edit">批量操作</button>
                            <button class="upload-btn" onclick="window.location.href='create-expert-review.html'">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                新建活动
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- 线上科室会内容 -->
                <div id="content-online-meeting" class="tab-content active">
                    <!-- 素材网格布局 -->
                    <div class="materials-grid">
                        <!-- 素材卡片示例 -->
                        <div class="material-card">
                            <img src="https://picsum.photos/320/160?random=1" alt="心血管疾病素材" class="material-image">
                            <div class="material-content">
                                <h3 class="material-title">心血管疾病防治新进展</h3>
                                <p class="material-description">本素材将探讨心血管疾病的最新防治策略，包括药物治疗、生活方式干预等内容，旨在提高临床医生的诊疗水平。</p>

                                <div class="material-tags">
                                    <span class="material-tag product-tag">荆防颗粒</span>
                                    <span class="material-tag">心血管</span>
                                    <span class="material-tag">内科</span>
                                </div>
                                <div class="material-footer">
                                    <div class="material-created-time">2025-10-14 13:23</div>
                                    <div class="material-actions">
                                        <div class="action-buttons-cell">
                                            <button class="action-btn edit">学术传递</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 素材卡片示例 -->
                        <div class="material-card">
                            <img src="https://picsum.photos/320/160?random=2" alt="糖尿病管理素材" class="material-image">
                            <div class="material-content">
                                <h3 class="material-title">糖尿病患者管理优化</h3>
                                <p class="material-description">探讨糖尿病患者的全面管理方案，包括血糖监测、饮食指导、运动处方等内容，提升患者生活质量。</p>

                                <div class="material-tags">
                                    <span class="material-tag product-tag">盖笛欣</span>
                                    <span class="material-tag">糖尿病</span>
                                </div>
                                <div class="material-footer">
                                    <div class="material-created-time">2025-10-13 15:45</div>
                                    <div class="material-actions">
                                        <div class="action-buttons-cell">
                                            <button class="action-btn edit">学术传递</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 素材卡片示例 -->
                        <div class="material-card">
                            <img src="https://picsum.photos/320/160?random=3" alt="儿科疾病素材" class="material-image">
                            <div class="material-content">
                                <h3 class="material-title">儿科常见疾病诊疗</h3>
                                <p class="material-description">介绍儿科常见疾病的诊断与治疗方法，包括呼吸道感染、消化道疾病等，提高儿科医生的临床技能。</p>

                                <div class="material-tags">
                                    <span class="material-tag product-tag">砂糖产品</span>
                                    <span class="material-tag">儿科</span>
                                    <span class="material-tag">呼吸系统</span>
                                </div>
                                <div class="material-footer">
                                    <div class="material-created-time">2025-10-12 09:30</div>
                                    <div class="material-actions">
                                        <div class="action-buttons-cell">
                                            <button class="action-btn edit">学术传递</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 素材卡片示例 -->
                        <div class="material-card">
                            <img src="https://picsum.photos/320/160?random=4" alt="呼吸系统素材" class="material-image">
                            <div class="material-content">
                                <h3 class="material-title">呼吸系统疾病诊治进展</h3>
                                <p class="material-description">深入探讨呼吸系统疾病的最新诊疗进展，包括慢性阻塞性肺疾病、哮喘等常见疾病的治疗新策略。</p>

                                <div class="material-tags">
                                    <span class="material-tag product-tag">荆防颗粒</span>
                                    <span class="material-tag">呼吸系统</span>
                                </div>
                                <div class="material-footer">
                                    <div class="material-created-time">2025-10-11 16:15</div>
                                    <div class="material-actions">
                                        <div class="action-buttons-cell">
                                            <button class="action-btn edit">学术传递</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 素材卡片示例 -->
                        <div class="material-card">
                            <img src="https://picsum.photos/320/160?random=5" alt="神经系统素材" class="material-image">
                            <div class="material-content">
                                <h3 class="material-title">神经系统疾病护理新进展</h3>
                                <p class="material-description">介绍神经系统疾病患者的护理要点，包括康复训练、并发症预防等内容，提升护理质量。</p>

                                <div class="material-tags">
                                    <span class="material-tag product-tag">盖笛欣</span>
                                    <span class="material-tag">神经内科</span>
                                </div>
                                <div class="material-footer">
                                    <div class="material-created-time">2025-10-10 14:20</div>
                                    <div class="material-actions">
                                        <div class="action-buttons-cell">
                                            <button class="action-btn edit">学术传递</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 素材卡片示例 -->
                        <div class="material-card">
                            <img src="https://picsum.photos/320/160?random=6" alt="消化系统素材" class="material-image">
                            <div class="material-content">
                                <h3 class="material-title">消化系统疾病诊断与治疗</h3>
                                <p class="material-description">探讨消化系统疾病的诊断方法和治疗策略，包括胃镜检查、药物治疗等内容，提高临床诊疗水平。</p>

                                <div class="material-tags">
                                    <span class="material-tag product-tag">test1</span>
                                    <span class="material-tag">消化系统</span>
                                </div>
                                <div class="material-footer">
                                    <div class="material-created-time">2025-10-09 11:05</div>
                                    <div class="material-actions">
                                        <div class="action-buttons-cell">
                                            <button class="action-btn edit">学术传递</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 素材卡片示例 -->
                        <div class="material-card">
                            <img src="https://picsum.photos/320/160?random=7" alt="内分泌系统素材" class="material-image">
                            <div class="material-content">
                                <h3 class="material-title">内分泌系统疾病最新进展</h3>
                                <p class="material-description">介绍内分泌系统疾病的最新研究进展，包括甲状腺疾病、肾上腺疾病等内容，拓展临床医生的知识领域。</p>

                                <div class="material-tags">
                                    <span class="material-tag product-tag">111</span>
                                    <span class="material-tag">内分泌</span>
                                </div>
                                <div class="material-footer">
                                    <div class="material-created-time">2025-10-08 10:10</div>
                                    <div class="material-actions">
                                        <div class="action-buttons-cell">
                                            <button class="action-btn edit">学术传递</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 素材卡片示例 -->
                        <div class="material-card">
                            <img src="https://picsum.photos/320/160?random=8" alt="泌尿系统素材" class="material-image">
                            <div class="material-content">
                                <h3 class="material-title">泌尿系统疾病护理指南</h3>
                                <p class="material-description">探讨泌尿系统疾病患者的护理规范，包括 catheter护理、尿液监测等内容，提高护理质量。</p>

                                <div class="material-tags">
                                    <span class="material-tag product-tag">荆防颗粒</span>
                                    <span class="material-tag">泌尿系统</span>
                                    <span class="material-tag">护理</span>
                                </div>
                                <div class="material-footer">
                                    <div class="material-created-time">2025-10-07 15:30</div>
                                    <div class="material-actions">
                                        <div class="action-buttons-cell">
                                            <button class="action-btn edit">学术传递</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 素材卡片示例 -->
                        <div class="material-card">
                            <img src="https://picsum.photos/320/160?random=9" alt="骨科疾病素材" class="material-image">
                            <div class="material-content">
                                <h3 class="material-title">骨科常见疾病治疗进展</h3>
                                <p class="material-description">介绍骨科常见疾病的最新治疗方法，包括关节置换、骨折固定等技术，提高骨科医生的诊疗水平。</p>

                                <div class="material-tags">
                                    <span class="material-tag product-tag">盖笛欣</span>
                                    <span class="material-tag">骨科</span>
                                    <span class="material-tag">外科</span>
                                </div>
                                <div class="material-footer">
                                    <div class="material-created-time">2025-10-06 14:45</div>
                                    <div class="material-actions">
                                        <div class="action-buttons-cell">
                                            <button class="action-btn edit">学术传递</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 素材卡片示例 -->
                        <div class="material-card">
                            <img src="https://picsum.photos/320/160?random=10" alt="眼科疾病素材" class="material-image">
                            <div class="material-content">
                                <h3 class="material-title">眼科疾病诊断与治疗</h3>
                                <p class="material-description">探讨眼科常见疾病的诊断方法和治疗策略，包括白内障、青光眼等疾病的最新诊疗进展。</p>

                                <div class="material-tags">
                                    <span class="material-tag product-tag">砂糖产品</span>
                                    <span class="material-tag">眼科</span>
                                    <span class="material-tag">五官科</span>
                                </div>
                                <div class="material-footer">
                                    <div class="material-created-time">2025-10-05 10:20</div>
                                    <div class="material-actions">
                                        <div class="action-buttons-cell">
                                            <button class="action-btn edit">学术传递</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 分页控件 -->
                    <div class="pagination">
                        <div class="pagination-info">
                            共 10 条记录
                        </div>
                        <div class="pagination-buttons">
                            <button class="page-btn" disabled>
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="15 18 9 12 15 6"></polyline>
                                </svg>
                            </button>
                            <button class="page-btn active">1</button>
                            <button class="page-btn">
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>



                <!-- 定向直播内容 -->
                <div id="content-targeted-live" class="tab-content" style="display: none;">
                    <p>定向直播内容区域</p>
                </div>

                <!-- 多人会议内容 -->
                <div id="content-multi-meeting" class="tab-content" style="display: none;">
                    <p>多人会议内容区域</p>
                </div>

                <!-- 学术拜访内容 -->
                <div id="content-academic-visit" class="tab-content" style="display: none;">
                    <p>学术拜访内容区域</p>
                </div>

                <!-- 医学播客内容 -->
                <div id="content-medical-podcast" class="tab-content" style="display: none;">
                    <p>医学播客内容区域</p>
                </div>
                
                <!-- 专家评审内容 -->
                <div id="content-expert-review" class="tab-content" style="display: none;">
                    <!-- 专家评审列表 -->
                    <div class="table-container">
                        <table class="record-table">
                            <thead>
                                <tr>
                                    <th>评审项目</th>
                                    <th>项目类型</th>
                                    <th>提交时间</th>
                                    <th>评审专家</th>
                                    <th>评审状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="material-title">糖尿病并发症管理病例评审</div>
                                        <div class="material-id">ID: REVIEW001</div>
                                    </td>
                                    <td>病例评审</td>
                                    <td>2025-12-10 14:30</td>
                                    <td>王教授</td>
                                    <td><span class="status pending">待评审</span></td>
                                    <td>
                                        <div class="action-buttons-cell">
                                            <button class="action-btn view">查看详情</button>
                                            <button class="action-btn edit">分配专家</button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="material-title">心血管疾病治疗方案评审</div>
                                        <div class="material-id">ID: REVIEW002</div>
                                    </td>
                                    <td>方案评审</td>
                                    <td>2025-12-09 09:15</td>
                                    <td>李教授</td>
                                    <td><span class="status active">评审中</span></td>
                                    <td>
                                        <div class="action-buttons-cell">
                                            <button class="action-btn view">查看详情</button>
                                            <button class="action-btn edit">查看评审</button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="material-title">儿科呼吸系统疾病研究评审</div>
                                        <div class="material-id">ID: REVIEW003</div>
                                    </td>
                                    <td>研究评审</td>
                                    <td>2025-12-08 16:45</td>
                                    <td>张教授</td>
                                    <td><span class="status approved">已完成</span></td>
                                    <td>
                                        <div class="action-buttons-cell">
                                            <button class="action-btn view">查看详情</button>
                                            <button class="action-btn edit">查看结果</button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <!-- 分页控件 -->
                        <div class="pagination">
                            <div class="pagination-info">
                                共 15 条记录
                            </div>
                            <div class="pagination-buttons">
                                <button class="page-btn" disabled>
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="15 18 9 12 15 6"></polyline>
                                    </svg>
                                </button>
                                <button class="page-btn active">1</button>
                                <button class="page-btn">2</button>
                                <button class="page-btn">
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="9 18 15 12 9 6"></polyline>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 病例征集内容 -->
                <div id="content-case-collection" class="tab-content" style="display: none;">
                    <!-- 病例互动内容 -->
                    <div class="case-sub-content active" id="case-interactions">
                        <!-- 病例互动列表 -->
                        <div class="table-container">
                            <table class="record-table">
                                <thead>
                                    <tr>

                                        <th>活动名称</th>
                                        <th>产品标签</th>
                                        <th>互动题目数</th>
                                        <th>创建时间</th>
                                        <th>完成数/总任务数</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="material-title">心血管疾病病例讨论</div>
                                            <div class="material-id">ID: INTERACT001</div>
                                        </td>
                                        <td>心血管药</td>
                                        <td>8</td>
                                        <td>2025-12-15 10:00</td>
                                        <td>124/200</td>
                                        <td>
                                            <div class="action-buttons-cell">
                                                <button class="action-btn view">查看详情</button>
                                                <button class="action-btn edit">学术传递</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="material-title">糖尿病并发症管理互动</div>
                                            <div class="material-id">ID: INTERACT002</div>
                                        </td>
                                        <td>降糖药</td>
                                        <td>12</td>
                                        <td>2025-12-10 11:30</td>
                                        <td>95/150</td>
                                        <td>
                                            <div class="action-buttons-cell">
                                                <button class="action-btn view">查看详情</button>
                                                <button class="action-btn edit">学术传递</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="material-title">儿科呼吸系统病例互动</div>
                                            <div class="material-id">ID: INTERACT003</div>
                                        </td>
                                        <td>儿科用药</td>
                                        <td>6</td>
                                        <td>2025-11-01 13:00</td>
                                        <td>156/156</td>
                                        <td>
                                            <div class="action-buttons-cell">
                                                <button class="action-btn view">查看详情</button>
                                                <button class="action-btn edit">学术传递</button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <!-- 分页控件 -->
                            <div class="pagination">
                                <div class="pagination-info">
                                    共 9 条记录
                                </div>
                                <div class="pagination-buttons">
                                    <button class="page-btn" disabled>
                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <polyline points="15 18 9 12 15 6"></polyline>
                                        </svg>
                                    </button>
                                    <button class="page-btn active">1</button>
                                    <button class="page-btn">
                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <polyline points="9 18 15 12 9 6"></polyline>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 病例活动内容 -->
                    <div class="case-sub-content" id="case-activities" style="display: none;">
                        <!-- 病例征集列表 -->
                        <div class="table-container">
                            <table class="record-table">
                                <thead>
                                    <tr>
                                        <th>活动名称</th>
                                        <th>活动状态</th>
                                        <th>产品标签</th>
                                        <th>活动时间</th>
                                        <th>报名人数</th>
                                        <th>已征集/征集目标数</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="material-title">糖尿病并发症管理病例征集</div>
                                            <div class="material-id">ID: CASE001</div>
                                        </td>
                                        <td><span class="status active">进行中</span></td>
                                        <td>降糖药</td>
                                        <td>2025-12-01 至 2025-12-31</td>
                                        <td>156</td>
                                        <td>89/200</td>
                                        <td>
                                            <div class="action-buttons-cell">
                                                <button class="action-btn view" onclick="window.location.href='case-collection-detail.html'">查看详情</button>
                                                <div class="dropdown">
                                                    <button class="action-btn more">更多操作</button>
                                                    <div class="dropdown-menu">
                                                        <a href="#" class="dropdown-item">编辑活动</a>
                                                        <a href="#" class="dropdown-item">结束活动</a>
                                                        <a href="#" class="dropdown-item">活动预览</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="material-title">心血管疾病治疗新方案病例征集</div>
                                            <div class="material-id">ID: CASE002</div>
                                        </td>
                                        <td><span class="status ended">已结束</span></td>
                                        <td>心血管药</td>
                                        <td>2025-11-01 至 2025-11-30</td>
                                        <td>234</td>
                                        <td>210/200</td>
                                        <td>
                                            <div class="action-buttons-cell">
                                                <button class="action-btn view">查看详情</button>
                                                <div class="dropdown">
                                                    <button class="action-btn more">更多操作</button>
                                                    <div class="dropdown-menu">
                                                        <a href="#" class="dropdown-item">编辑活动</a>
                                                        <a href="#" class="dropdown-item">删除活动</a>
                                                        <a href="#" class="dropdown-item">活动预览</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="material-title">儿科呼吸系统疾病病例征集</div>
                                            <div class="material-id">ID: CASE003</div>
                                        </td>
                                        <td><span class="status active">进行中</span></td>
                                        <td>儿科用药</td>
                                        <td>2025-12-15 至 2026-01-15</td>
                                        <td>89</td>
                                        <td>45/150</td>
                                        <td>
                                            <div class="action-buttons-cell">
                                                <button class="action-btn view">查看详情</button>
                                                <div class="dropdown">
                                                    <button class="action-btn more">更多操作</button>
                                                    <div class="dropdown-menu">
                                                        <a href="#" class="dropdown-item">编辑活动</a>
                                                        <a href="#" class="dropdown-item">结束活动</a>
                                                        <a href="#" class="dropdown-item">活动预览</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="material-title">消化系统疾病诊疗病例征集</div>
                                            <div class="material-id">ID: CASE004</div>
                                        </td>
                                        <td><span class="status active">进行中</span></td>
                                        <td>消化科用药</td>
                                        <td>2025-12-10 至 2026-01-10</td>
                                        <td>112</td>
                                        <td>67/180</td>
                                        <td>
                                            <div class="action-buttons-cell">
                                                <button class="action-btn view">查看详情</button>
                                                <div class="dropdown">
                                                    <button class="action-btn more">更多操作</button>
                                                    <div class="dropdown-menu">
                                                        <a href="#" class="dropdown-item">编辑活动</a>
                                                        <a href="#" class="dropdown-item">结束活动</a>
                                                        <a href="#" class="dropdown-item">活动预览</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <!-- 分页控件 -->
                            <div class="pagination">
                                <div class="pagination-info">
                                    共 12 条记录
                                </div>
                                <div class="pagination-buttons">
                                    <button class="page-btn" disabled>
                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <polyline points="15 18 9 12 15 6"></polyline>
                                        </svg>
                                    </button>
                                    <button class="page-btn active">1</button>
                                    <button class="page-btn">2</button>
                                    <button class="page-btn">
                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <polyline points="9 18 15 12 9 6"></polyline>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 病例作品内容 -->
                    <div class="case-sub-content" id="case-works" style="display: none;">
                        <!-- 病例作品列表 -->
                        <div class="table-container">
                            <table class="record-table">
                                <thead>
                                    <tr>
                                        <th>作品名称</th>
                                        <th>所属活动</th>
                                        <th>产品标签</th>
                                        <th>作者</th>
                                        <th>报名时间</th>
                                        <th>投稿时间</th>
                                        <th>作品状态</th>
                                        <th>完成数/总任务数</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="material-title">2型糖尿病合并高血压病例报告</div>
                                            <div class="material-id">ID: WORK001</div>
                                        </td>
                                        <td>糖尿病并发症管理病例征集</td>
                                        <td>降糖药</td>
                                        <td>张医生</td>
                                        <td>2025-12-05 10:00</td>
                                        <td>2025-12-10 14:30</td>
                                        <td><span class="status pending">待审核</span></td>
                                        <td>5/7</td>
                                        <td>
                                            <div class="action-buttons-cell">
                                                <button class="action-btn view" onclick="window.location.href='case-work-detail.html'">查看详情</button>
                                                <div class="dropdown">
                                                    <button class="action-btn more">更多操作</button>
                                                    <div class="dropdown-menu">
                                                        <a href="#" class="dropdown-item">内容合适</a>
                                                        <a href="#" class="dropdown-item">内容不合适</a>
                                                        <a href="case-interaction-detail.html" class="dropdown-item">学术传递</a>
                                                        <a href="#" class="dropdown-item">分享作品</a>
                                                        <a href="#" class="dropdown-item">撤回任务</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="material-title">冠心病患者的综合管理</div>
                                            <div class="material-id">ID: WORK002</div>
                                        </td>
                                        <td>心血管疾病治疗新方案病例征集</td>
                                        <td>心血管药</td>
                                        <td>李医生</td>
                                        <td>2025-12-03 11:30</td>
                                        <td>2025-12-09 09:15</td>
                                        <td><span class="status approved">已通过</span></td>
                                        <td>7/7</td>
                                        <td>
                                            <div class="action-buttons-cell">
                                                <button class="action-btn view" onclick="window.location.href='case-work-detail.html'">查看详情</button>
                                                <div class="dropdown">
                                                    <button class="action-btn more">更多操作</button>
                                                    <div class="dropdown-menu">
                                                        <a href="#" class="dropdown-item">内容合适</a>
                                                        <a href="#" class="dropdown-item">内容不合适</a>
                                                        <a href="case-interaction-detail.html" class="dropdown-item">学术传递</a>
                                                        <a href="#" class="dropdown-item">撤回任务</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="material-title">儿童哮喘的规范化治疗</div>
                                            <div class="material-id">ID: WORK003</div>
                                        </td>
                                        <td>儿科呼吸系统疾病病例征集</td>
                                        <td>儿科用药</td>
                                        <td>王医生</td>
                                        <td>2025-12-08 16:45</td>
                                        <td>2025-12-09 09:15</td>
                                        <td><span class="status rejected">未通过</span></td>
                                        <td>3/5</td>
                                        <td>
                                            <div class="action-buttons-cell">
                                                <button class="action-btn view" onclick="window.location.href='case-work-detail.html'">查看详情</button>
                                                <div class="dropdown">
                                                    <button class="action-btn more">更多操作</button>
                                                    <div class="dropdown-menu">
                                                        <a href="#" class="dropdown-item">内容合适</a>
                                                        <a href="#" class="dropdown-item">内容不合适</a>
                                                        <a href="case-interaction-detail.html" class="dropdown-item">学术传递</a>
                                                        <a href="#" class="dropdown-item">撤回任务</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <!-- 分页控件 -->
                            <div class="pagination">
                                <div class="pagination-info">
                                    共 28 条记录
                                </div>
                                <div class="pagination-buttons">
                                    <button class="page-btn" disabled>
                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <polyline points="15 18 9 12 15 6"></polyline>
                                        </svg>
                                    </button>
                                    <button class="page-btn active">1</button>
                                    <button class="page-btn">2</button>
                                    <button class="page-btn">3</button>
                                    <button class="page-btn">
                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <polyline points="9 18 15 12 9 6"></polyline>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- 加载动画 -->
    <div class="loading" id="loading" style="display: none;">
        <div class="loading-spinner"></div>
        <p>AI正在思考...</p>
    </div>

    <script src="../js/script.js?v=1"></script>
    <script src="../js/menu.js?v=1"></script>
    <script>
        // 动态加载公共组件
        async function loadComponents() {
            try {
                // 加载顶部导航
                const headerResponse = await fetch('components/header.html');
                const headerHtml = await headerResponse.text();
                document.getElementById('header-placeholder').innerHTML = headerHtml;
                
                // 加载左侧侧边栏
                const sidebarResponse = await fetch('components/sidebar.html');
                const sidebarHtml = await sidebarResponse.text();
                document.getElementById('sidebar-placeholder').innerHTML = sidebarHtml;
                
                // 初始化菜单
                initializeMenu();
            } catch (error) {
                console.error('加载组件失败:', error);
            }
        }
        
        // 页面加载时执行
        window.addEventListener('DOMContentLoaded', loadComponents);
        
        // 服务标签切换
        const serviceTabs = document.querySelectorAll('.service-tab');
        const tabContents = document.querySelectorAll('.tab-content');
        
        // 标签页内容映射
        const tabContentMap = {
            '线上科室会': 'content-online-meeting',
            '在线病例互动': 'content-case-collection',
            '定向直播': 'content-targeted-live',
            '多人会议': 'content-multi-meeting',
            '学术拜访': 'content-academic-visit',
            '医学播客': 'content-medical-podcast',
            '专家评审': 'content-expert-review'
        };
        
        // 病例征集子标签切换
        const caseTabs = document.querySelectorAll('.record-tab');
        const caseSubContents = document.querySelectorAll('.case-sub-content');
        
        caseTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                // 移除所有子标签的active类
                caseTabs.forEach(t => t.classList.remove('active'));
                
                // 为当前子标签添加active类
                this.classList.add('active');
                
                // 获取当前选中的子标签文本
                const tabText = this.textContent;
                
                // 切换筛选栏（功能区）
                const filterBars = document.querySelectorAll('.filter-bar.case-collection-filter');
                filterBars.forEach(bar => {
                    bar.style.display = 'none';
                    bar.classList.remove('active');
                });
                
                if (tabText === '在线病例互动') {
                    const filterBar = document.querySelector('.case-interaction-filter');
                    if (filterBar) {
                        filterBar.style.display = 'flex';
                        filterBar.classList.add('active');
                    }
                } else if (tabText === '病例互动征集活动') {
                    const filterBar = document.querySelector('.case-activity-filter');
                    if (filterBar) {
                        filterBar.style.display = 'flex';
                        filterBar.classList.add('active');
                    }
                } else if (tabText === '医生投稿作品库') {
                    const filterBar = document.querySelector('.case-work-filter');
                    if (filterBar) {
                        filterBar.style.display = 'flex';
                        filterBar.classList.add('active');
                    }
                }
                
                // 隐藏所有子内容
                caseSubContents.forEach(content => content.style.display = 'none');
                
                // 显示对应的子内容
                if (tabText === '在线病例互动') {
                    document.getElementById('case-interactions').style.display = 'block';
                } else if (tabText === '病例互动征集活动') {
                    document.getElementById('case-activities').style.display = 'block';
                } else if (tabText === '医生投稿作品库') {
                    document.getElementById('case-works').style.display = 'block';
                }
            });
        });
        
        serviceTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                serviceTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // 获取当前选中的服务标签文本
                const tabText = tab.textContent.trim();
                
                // 显示/隐藏病例征集子标签
                const caseCollectionTabs = document.getElementById('case-collection-tabs');
                if (tabText === '在线病例互动') {
                    caseCollectionTabs.style.display = 'flex';
                } else {
                    caseCollectionTabs.style.display = 'none';
                }
                
                // 隐藏所有内容区域
                tabContents.forEach(content => {
                    content.style.display = 'none';
                });
                
                // 隐藏所有筛选栏
                const filterBars = document.querySelectorAll('.filter-bar');
                filterBars.forEach(bar => {
                    bar.style.display = 'none';
                    bar.classList.remove('active');
                });
                
                // 显示对应的内容区域
                const contentId = tabContentMap[tabText];
                if (contentId) {
                    const contentElement = document.getElementById(contentId);
                    if (contentElement) {
                        contentElement.style.display = 'block';
                    }
                }
                
                // 显示对应的筛选栏
                const filterBarMap = {
                    '线上科室会': 'online-meeting-filter',
                    '在线病例互动': 'case-activity-filter',
                    '定向直播': 'targeted-live-filter',
                    '多人会议': 'multi-meeting-filter',
                    '学术拜访': 'academic-visit-filter',
                    '医学播客': 'medical-podcast-filter',
                    '专家评审': 'expert-review-filter'
                };
                
                const filterBarClass = filterBarMap[tabText];
                if (filterBarClass) {
                    const filterBarElement = document.querySelector(`.${filterBarClass}`);
                    if (filterBarElement) {
                        filterBarElement.style.display = 'flex';
                        filterBarElement.classList.add('active');
                    }
                }
                
                // 确保子标签和内容正确显示
                if (tabText === '在线病例互动') {
                    const caseTabs = document.querySelectorAll('.record-tab');
                    caseTabs.forEach(t => t.classList.remove('active'));
                    caseTabs[0].classList.add('active');
                    
                    // 切换筛选栏
                    const filterBars = document.querySelectorAll('.filter-bar.case-collection-filter');
                    filterBars.forEach(bar => {
                        bar.style.display = 'none';
                        bar.classList.remove('active');
                    });
                    const interactionFilterBar = document.querySelector('.case-interaction-filter');
                    if (interactionFilterBar) {
                        interactionFilterBar.style.display = 'flex';
                        interactionFilterBar.classList.add('active');
                    }
                    
                    // 显示对应内容
                    const caseSubContents = document.querySelectorAll('.case-sub-content');
                    caseSubContents.forEach(content => content.style.display = 'none');
                    document.getElementById('case-interactions').style.display = 'block';
                }
            });
        });
        
        // 时间范围选择器逻辑
        function initTimeRangePicker(prefix) {
            // 元素获取
            const timeRangeInput = document.getElementById(`${prefix}TimeRangeInput`);
            const timeRangePicker = document.getElementById(`${prefix}TimeRangePicker`);
            const pickerClose = document.getElementById(`${prefix}PickerClose`);
            const cancelPicker = document.getElementById(`${prefix}CancelPicker`);
            const confirmPicker = document.getElementById(`${prefix}ConfirmPicker`);
            const startTimeText = document.getElementById(`${prefix}StartTimeText`);
            const endTimeText = document.getElementById(`${prefix}EndTimeText`);
            
            // 日历导航按钮
            const prevMonth = document.getElementById(`${prefix}PrevMonth`);
            const nextMonth = document.getElementById(`${prefix}NextMonth`);
            const prevMonth2 = document.getElementById(`${prefix}PrevMonth2`);
            const nextMonth2 = document.getElementById(`${prefix}NextMonth2`);
            
            // 日历标题和主体
            const startCalendarTitle = document.getElementById(`${prefix}StartCalendarTitle`);
            const endCalendarTitle = document.getElementById(`${prefix}EndCalendarTitle`);
            const startCalendarBody = document.getElementById(`${prefix}StartCalendarBody`);
            const endCalendarBody = document.getElementById(`${prefix}EndCalendarBody`);
            
            // 隐藏的输入字段
            const startTimeInput = document.getElementById(`${prefix.toLowerCase().replace(/([A-Z])/g, '-$1').slice(1)}-start-time`);
            const endTimeInput = document.getElementById(`${prefix.toLowerCase().replace(/([A-Z])/g, '-$1').slice(1)}-end-time`);
            
            // 当前选中的日期
            let selectedStartDate = null;
            let selectedEndDate = null;
            
            // 当前显示的月份
            let currentStartYear = 2025;
            let currentStartMonth = 11; // 0-11
            let currentEndYear = 2026;
            let currentEndMonth = 0; // 0-11
            
            // 显示/隐藏时间选择器
            if (timeRangeInput) {
                timeRangeInput.addEventListener('click', function() {
                    timeRangePicker.style.display = 'block';
                });
            }
            
            // 关闭时间选择器
            function closePicker() {
                timeRangePicker.style.display = 'none';
            }
            
            if (pickerClose) {
                pickerClose.addEventListener('click', closePicker);
            }
            
            if (cancelPicker) {
                cancelPicker.addEventListener('click', closePicker);
            }
            
            // 点击外部关闭选择器
            document.addEventListener('click', function(event) {
                if (timeRangePicker && !timeRangePicker.contains(event.target) && event.target !== timeRangeInput) {
                    closePicker();
                }
            });
            
            // 生成日历
            function generateCalendar(year, month, calendarBody, isStart) {
                // 清空日历
                calendarBody.innerHTML = '';
                
                // 获取月份名称
                const monthNames = ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'];
                const titleElement = isStart ? startCalendarTitle : endCalendarTitle;
                if (titleElement) {
                    titleElement.textContent = `${year}年${monthNames[month]}`;
                }
                
                // 获取月份第一天是星期几
                const firstDay = new Date(year, month, 1).getDay();
                // 获取月份天数
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                // 获取上个月天数
                const daysInPrevMonth = new Date(year, month, 0).getDate();
                
                // 生成星期标题
                const weekDays = ['日', '一', '二', '三', '四', '五', '六'];
                weekDays.forEach(day => {
                    const dayElement = document.createElement('div');
                    dayElement.textContent = day;
                    dayElement.style.fontWeight = 'bold';
                    dayElement.style.color = '#6b7280';
                    dayElement.style.textAlign = 'center';
                    dayElement.style.padding = '8px 0';
                    calendarBody.appendChild(dayElement);
                });
                
                // 生成上个月的日期
                for (let i = firstDay - 1; i >= 0; i--) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day other-month';
                    dayElement.textContent = daysInPrevMonth - i;
                    calendarBody.appendChild(dayElement);
                }
                
                // 生成当前月的日期
                for (let i = 1; i <= daysInMonth; i++) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day';
                    dayElement.textContent = i;
                    
                    // 检查是否是今天
                    const today = new Date();
                    if (year === today.getFullYear() && month === today.getMonth() && i === today.getDate()) {
                        dayElement.classList.add('today');
                    }
                    
                    // 检查是否是选中日期
                    if (isStart && selectedStartDate && 
                        selectedStartDate.getFullYear() === year && 
                        selectedStartDate.getMonth() === month && 
                        selectedStartDate.getDate() === i) {
                        dayElement.classList.add('selected');
                    } else if (!isStart && selectedEndDate && 
                               selectedEndDate.getFullYear() === year && 
                               selectedEndDate.getMonth() === month && 
                               selectedEndDate.getDate() === i) {
                        dayElement.classList.add('selected');
                    }
                    
                    // 添加点击事件
                    dayElement.addEventListener('click', function() {
                        const clickedDate = new Date(year, month, i);
                        if (isStart) {
                            selectedStartDate = clickedDate;
                            if (selectedEndDate && clickedDate > selectedEndDate) {
                                selectedEndDate = null;
                                endTimeText.textContent = '结束时间';
                                endTimeInput.value = '';
                            }
                        } else {
                            selectedEndDate = clickedDate;
                            if (selectedStartDate && clickedDate < selectedStartDate) {
                                selectedStartDate = null;
                                startTimeText.textContent = '开始时间';
                                startTimeInput.value = '';
                            }
                        }
                        
                        // 更新日历显示
                        generateCalendar(currentStartYear, currentStartMonth, startCalendarBody, true);
                        generateCalendar(currentEndYear, currentEndMonth, endCalendarBody, false);
                        
                        // 更新显示文本
                        if (selectedStartDate) {
                            startTimeText.textContent = `${selectedStartDate.getFullYear()}-${(selectedStartDate.getMonth() + 1).toString().padStart(2, '0')}-${selectedStartDate.getDate().toString().padStart(2, '0')}`;
                            startTimeInput.value = selectedStartDate.toISOString().split('T')[0];
                        }
                        if (selectedEndDate) {
                            endTimeText.textContent = `${selectedEndDate.getFullYear()}-${(selectedEndDate.getMonth() + 1).toString().padStart(2, '0')}-${selectedEndDate.getDate().toString().padStart(2, '0')}`;
                            endTimeInput.value = selectedEndDate.toISOString().split('T')[0];
                        }
                    });
                    
                    calendarBody.appendChild(dayElement);
                }
                
                // 生成下个月的日期以填满表格
                const totalCells = calendarBody.children.length;
                const remainingCells = 42 - totalCells; // 6行7列
                for (let i = 1; i <= remainingCells; i++) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day other-month';
                    dayElement.textContent = i;
                    calendarBody.appendChild(dayElement);
                }
            }
            
            // 日历导航
            function updateCalendar(direction, isStart) {
                if (isStart) {
                    currentStartMonth += direction;
                    if (currentStartMonth < 0) {
                        currentStartMonth = 11;
                        currentStartYear--;
                    } else if (currentStartMonth > 11) {
                        currentStartMonth = 0;
                        currentStartYear++;
                    }
                    generateCalendar(currentStartYear, currentStartMonth, startCalendarBody, true);
                } else {
                    currentEndMonth += direction;
                    if (currentEndMonth < 0) {
                        currentEndMonth = 11;
                        currentEndYear--;
                    } else if (currentEndMonth > 11) {
                        currentEndMonth = 0;
                        currentEndYear++;
                    }
                    generateCalendar(currentEndYear, currentEndMonth, endCalendarBody, false);
                }
            }
            
            // 添加导航事件
            if (prevMonth) {
                prevMonth.addEventListener('click', function() {
                    updateCalendar(-1, true);
                });
            }
            
            if (nextMonth) {
                nextMonth.addEventListener('click', function() {
                    updateCalendar(1, true);
                });
            }
            
            if (prevMonth2) {
                prevMonth2.addEventListener('click', function() {
                    updateCalendar(-1, false);
                });
            }
            
            if (nextMonth2) {
                nextMonth2.addEventListener('click', function() {
                    updateCalendar(1, false);
                });
            }
            
            // 确认按钮事件
            if (confirmPicker) {
                confirmPicker.addEventListener('click', function() {
                    closePicker();
                });
            }
            
            // 初始化日历
            generateCalendar(currentStartYear, currentStartMonth, startCalendarBody, true);
            generateCalendar(currentEndYear, currentEndMonth, endCalendarBody, false);
        }
        
        // 初始化时间范围选择器
        document.addEventListener('DOMContentLoaded', function() {
            // 线上科室会时间范围选择器
            initTimeRangePicker('onlineMeeting');
            // 病例互动时间范围选择器
            initTimeRangePicker('caseInteraction');
            
            // 更多筛选按钮功能
            const moreFilterBtn = document.getElementById('moreFilterBtn');
            const collapsibleFilters = document.querySelectorAll('.collapsible-filter');
            
            if (moreFilterBtn) {
                moreFilterBtn.addEventListener('click', function() {
                    // 切换按钮状态
                    this.classList.toggle('expanded');
                    
                    // 切换可折叠筛选框的显示状态
                    collapsibleFilters.forEach(filter => {
                        if (filter.style.display === 'block') {
                            filter.style.display = 'none';
                        } else {
                            filter.style.display = 'block';
                        }
                    });
                    
                    // 更新按钮文本
                    if (this.classList.contains('expanded')) {
                        this.querySelector('span') ? this.querySelector('span').textContent = '收起筛选' : this.textContent = '收起筛选';
                    } else {
                        this.querySelector('span') ? this.querySelector('span').textContent = '更多筛选' : this.textContent = '更多筛选';
                    }
                });
            }
            
            // 批量操作功能
            const batchActionBtn = document.getElementById('batchActionBtn');
            
            // 批量操作按钮点击事件
            if (batchActionBtn) {
                batchActionBtn.addEventListener('click', function() {
                    // 这里可以添加批量操作的逻辑
                    alert('批量操作功能已触发');
                });
            }
        });
        
        // 更多操作下拉菜单功能
        document.addEventListener('DOMContentLoaded', function() {
            const moreButtons = document.querySelectorAll('.action-btn.more');
            
            moreButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // 关闭所有其他下拉菜单
                    const otherDropdowns = document.querySelectorAll('.dropdown-menu');
                    otherDropdowns.forEach(menu => {
                        menu.style.display = 'none';
                    });
                    
                    // 切换当前下拉菜单的显示状态
                    const dropdownMenu = this.nextElementSibling;
                    if (dropdownMenu && dropdownMenu.classList.contains('dropdown-menu')) {
                        if (dropdownMenu.style.display === 'block') {
                            dropdownMenu.style.display = 'none';
                        } else {
                            dropdownMenu.style.display = 'block';
                        }
                    }
                });
            });
            
            // 点击页面其他地方关闭下拉菜单
            document.addEventListener('click', function() {
                const dropdownMenus = document.querySelectorAll('.dropdown-menu');
                dropdownMenus.forEach(menu => {
                    menu.style.display = 'none';
                });
            });
        });
    </script>
</body>
</html>